<h1>end-of-stream</h1>
<p>A node module that calls a callback when a readable/writable/duplex stream has completed or failed.</p>
<pre><code>npm install end-of-stream
</code></pre>
<p><a href="https://travis-ci.org/mafintosh/end-of-stream"><img src="https://travis-ci.org/mafintosh/end-of-stream.svg?branch=master" alt="Build status"></a></p>
<h2>Usage</h2>
<p>Simply pass a stream and a callback to the <code>eos</code>.
Both legacy streams, streams2 and stream3 are supported.</p>
<pre><code class="language-js">var eos = require('end-of-stream');

eos(readableStream, function(err) {
  // this will be set to the stream instance
	if (err) return console.log('stream had an error or closed early');
	console.log('stream has ended', this === readableStream);
});

eos(writableStream, function(err) {
	if (err) return console.log('stream had an error or closed early');
	console.log('stream has finished', this === writableStream);
});

eos(duplexStream, function(err) {
	if (err) return console.log('stream had an error or closed early');
	console.log('stream has ended and finished', this === duplexStream);
});

eos(duplexStream, {readable:false}, function(err) {
	if (err) return console.log('stream had an error or closed early');
	console.log('stream has finished but might still be readable');
});

eos(duplexStream, {writable:false}, function(err) {
	if (err) return console.log('stream had an error or closed early');
	console.log('stream has ended but might still be writable');
});

eos(readableStream, {error:false}, function(err) {
	// do not treat emit('error', err) as a end-of-stream
});
</code></pre>
<h2>License</h2>
<p>MIT</p>
<h2>Related</h2>
<p><code>end-of-stream</code> is part of the <a href="https://github.com/maxogden/mississippi">mississippi stream utility collection</a> which includes more useful stream modules similar to this one.</p>
