<h1>EscapableHandleScope</h1>
<p>The <code>Napi::EscapableHandleScope</code> class is used to manage the lifetime of object handles
which are created through the use of node-addon-api. These handles
keep an object alive in the heap in order to ensure that the objects
are not collected by the garbage collector while native code is using them.
A handle may be created when any new node-addon-api Value or one
of its subclasses is created or returned.</p>
<p>The <code>Napi::EscapableHandleScope</code> is a special type of <code>Napi::HandleScope</code>
which allows a single handle to be &quot;promoted&quot; to an outer scope.</p>
<p>For more details refer to the section titled
<a href="object_lifetime_management.md">Object lifetime management</a>.</p>
<h2>Methods</h2>
<h3>Constructor</h3>
<p>Creates a new escapable handle scope.</p>
<pre><code class="language-cpp">Napi::EscapableHandleScope Napi::EscapableHandleScope::New(Napi:Env env);
</code></pre>
<ul>
<li><code>[in] Env</code>: The environment in which to construct the <code>Napi::EscapableHandleScope</code> object.</li>
</ul>
<p>Returns a new <code>Napi::EscapableHandleScope</code></p>
<h3>Constructor</h3>
<p>Creates a new escapable handle scope.</p>
<pre><code class="language-cpp">Napi::EscapableHandleScope Napi::EscapableHandleScope::New(napi_env env, napi_handle_scope scope);
</code></pre>
<ul>
<li><code>[in] env</code>: napi_env in which the scope passed in was created.</li>
<li><code>[in] scope</code>: pre-existing napi_handle_scope.</li>
</ul>
<p>Returns a new <code>Napi::EscapableHandleScope</code> instance which wraps the
napi_escapable_handle_scope handle passed in. This can be used
to mix usage of the C N-API and node-addon-api.</p>
<p>operator EscapableHandleScope::napi_escapable_handle_scope</p>
<pre><code class="language-cpp">operator Napi::EscapableHandleScope::napi_escapable_handle_scope() const
</code></pre>
<p>Returns the N-API napi_escapable_handle_scope wrapped by the <code>Napi::EscapableHandleScope</code> object.
This can be used to mix usage of the C N-API and node-addon-api by allowing
the class to be used be converted to a napi_escapable_handle_scope.</p>
<h3>Destructor</h3>
<pre><code class="language-cpp">Napi::EscapableHandleScope::~EscapableHandleScope();
</code></pre>
<p>Deletes the <code>Napi::EscapableHandleScope</code> instance and allows any objects/handles created
in the scope to be collected by the garbage collector. There is no
guarantee as to when the garbage collector will do this.</p>
<h3>Escape</h3>
<pre><code class="language-cpp">napi::Value Napi::EscapableHandleScope::Escape(napi_value escapee);
</code></pre>
<ul>
<li><code>[in] escapee</code>: Napi::Value or napi_env to promote to the outer scope</li>
</ul>
<p>Returns <code>Napi::Value</code> which can be used in the outer scope. This method can
be called at most once on a given <code>Napi::EscapableHandleScope</code>. If it is called
more than once an exception will be thrown.</p>
<h3>Env</h3>
<pre><code class="language-cpp">Napi::Env Napi::EscapableHandleScope::Env() const;
</code></pre>
<p>Returns the <code>Napi::Env</code> associated with the <code>Napi::EscapableHandleScope</code>.</p>
