<h1>Env</h1>
<p>The opaque data structure containing the environment in which the request is being run.</p>
<p>The Env object is usually created and passed by the Node.js runtime or node-addon-api infrastructure.</p>
<h2>Methods</h2>
<h3>Constructor</h3>
<pre><code class="language-cpp">Napi::Env::Env(napi_env env);
</code></pre>
<ul>
<li><code>[in] env</code>: The <code>napi_env</code> environment from which to construct the <code>Napi::Env</code> object.</li>
</ul>
<h3>napi_env</h3>
<pre><code class="language-cpp">operator napi_env() const;
</code></pre>
<p>Returns the <code>napi_env</code> opaque data structure representing the environment.</p>
<h3>Global</h3>
<pre><code class="language-cpp">Napi::Object Napi::Env::Global() const;
</code></pre>
<p>Returns the <code>Napi::Object</code> representing the environment's JavaScript Global Object.</p>
<h3>Undefined</h3>
<pre><code class="language-cpp">Napi::Value Napi::Env::Undefined() const;
</code></pre>
<p>Returns the <code>Napi::Value</code> representing the environment's JavaScript Undefined Object.</p>
<h3>Null</h3>
<pre><code class="language-cpp">Napi::Value Napi::Env::Null() const;
</code></pre>
<p>Returns the <code>Napi::Value</code> representing the environment's JavaScript Null Object.</p>
<h3>IsExceptionPending</h3>
<pre><code class="language-cpp">bool Napi::Env::IsExceptionPending() const;
</code></pre>
<p>Returns a <code>bool</code> indicating if an exception is pending in the environment.</p>
<h3>GetAndClearPendingException</h3>
<pre><code class="language-cpp">Napi::Error Napi::Env::GetAndClearPendingException();
</code></pre>
<p>Returns an <code>Napi::Error</code> object representing the environment's pending exception, if any.</p>
<h3>RunScript</h3>
<pre><code class="language-cpp">Napi::Value Napi::Env::RunScript(____ script);
</code></pre>
<ul>
<li><code>[in] script</code>: A string containing JavaScript code to execute.</li>
</ul>
<p>Runs JavaScript code contained in a string and returns its result.</p>
<p>The <code>script</code> can be any of the following types:</p>
<ul>
<li><a href="string.md"><code>Napi::String</code></a></li>
<li><code>const char *</code></li>
<li><code>const std::string &amp;</code></li>
</ul>
<h3>GetInstanceData</h3>
<pre><code class="language-cpp">template &lt;typename T&gt; T* GetInstanceData();
</code></pre>
<p>Returns the instance data that was previously associated with the environment,
or <code>nullptr</code> if none was associated.</p>
<h3>SetInstanceData</h3>
<pre><code class="language-cpp">template &lt;typename T&gt; using Finalizer = void (*)(Env, T*);
template &lt;typename T, Finalizer&lt;T&gt; fini = Env::DefaultFini&lt;T&gt;&gt;
void SetInstanceData(T* data);
</code></pre>
<ul>
<li><code>[template] fini</code>: A function to call when the instance data is to be deleted.
Accepts a function of the form <code>void CleanupData(Napi::Env env, T* data)</code>. If
not given, the default finalizer will be used, which simply uses the <code>delete</code>
operator to destroy <code>T*</code> when the addon instance is unloaded.</li>
<li><code>[in] data</code>: A pointer to data that will be associated with the instance of
the addon for the duration of its lifecycle.</li>
</ul>
<p>Associates a data item stored at <code>T* data</code> with the current instance of the
addon. The item will be passed to the function <code>fini</code> which gets called when an
instance of the addon is unloaded.</p>
<h3>SetInstanceData</h3>
<pre><code class="language-cpp">template &lt;typename DataType, typename HintType&gt;
using FinalizerWithHint = void (*)(Env, DataType*, HintType*);
template &lt;typename DataType,
          typename HintType,
          FinalizerWithHint&lt;DataType, HintType&gt; fini =
            Env::DefaultFiniWithHint&lt;DataType, HintType&gt;&gt;
void SetInstanceData(DataType* data, HintType* hint);
</code></pre>
<ul>
<li><code>[template] fini</code>: A function to call when the instance data is to be deleted.
Accepts a function of the form
<code>void CleanupData(Napi::Env env, DataType* data, HintType* hint)</code>. If not given,
the default finalizer will be used, which simply uses the <code>delete</code> operator to
destroy <code>T*</code> when the addon instance is unloaded.</li>
<li><code>[in] data</code>: A pointer to data that will be associated with the instance of
the addon for the duration of its lifecycle.</li>
<li><code>[in] hint</code>: A pointer to data that will be associated with the instance of
the addon for the duration of its lifecycle and will be passed as a hint to
<code>fini</code> when the addon instance is unloaded.</li>
</ul>
<p>Associates a data item stored at <code>T* data</code> with the current instance of the
addon. The item will be passed to the function <code>fini</code> which gets called when an
instance of the addon is unloaded. This overload accepts an additional hint to
be passed to <code>fini</code>.</p>
