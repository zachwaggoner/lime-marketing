<h1>Reference (template)</h1>
<p>Holds a counted reference to a <a href="value.md"><code>Napi::Value</code></a> object; initially a weak reference unless otherwise specified, may be changed to/from a strong reference by adjusting the refcount.</p>
<p>The referenced <code>Napi::Value</code> is not immediately destroyed when the reference count is zero; it is merely then eligible for garbage-collection if there are no other references to the <code>Napi::Value</code>.</p>
<p><code>Napi::Reference</code> objects allocated in static space, such as a global static instance, must call the <code>SuppressDestruct</code> method to prevent its destructor, running at program shutdown time, from attempting to reset the reference when the environment is no longer valid.</p>
<p>The following classes inherit, either directly or indirectly, from <code>Napi::Reference</code>:</p>
<ul>
<li><a href="object_wrap.md"><code>Napi::ObjectWrap</code></a></li>
<li><a href="object_reference.md"><code>Napi::ObjectReference</code></a></li>
<li><a href="function_reference.md"><code>Napi::FunctionReference</code></a></li>
</ul>
<h2>Methods</h2>
<h3>Factory Method</h3>
<pre><code class="language-cpp">static Napi::Reference&lt;T&gt; Napi::Reference::New(const T&amp; value, uint32_t initialRefcount = 0);
</code></pre>
<ul>
<li>
<p><code>[in] value</code>: The value which is to be referenced.</p>
</li>
<li>
<p><code>[in] initialRefcount</code>: The initial reference count.</p>
</li>
</ul>
<h3>Empty Constructor</h3>
<pre><code class="language-cpp">Napi::Reference::Reference();
</code></pre>
<p>Creates a new <em>empty</em> <code>Napi::Reference</code> instance.</p>
<h3>Constructor</h3>
<pre><code class="language-cpp">Napi::Reference::Reference(napi_env env, napi_value value);
</code></pre>
<ul>
<li>
<p><code>[in] env</code>: The <code>napi_env</code> environment in which to construct the <code>Napi::Reference</code> object.</p>
</li>
<li>
<p><code>[in] value</code>: The N-API primitive value to be held by the <code>Napi::Reference</code>.</p>
</li>
</ul>
<h3>Env</h3>
<pre><code class="language-cpp">Napi::Env Napi::Reference::Env() const;
</code></pre>
<p>Returns the <code>Napi::Env</code> value in which the <code>Napi::Reference</code> was instantiated.</p>
<h3>IsEmpty</h3>
<pre><code class="language-cpp">bool Napi::Reference::IsEmpty() const;
</code></pre>
<p>Determines whether the value held by the <code>Napi::Reference</code> is empty.</p>
<h3>Value</h3>
<pre><code class="language-cpp">T Napi::Reference::Value() const;
</code></pre>
<p>Returns the value held by the <code>Napi::Reference</code>.</p>
<h3>Ref</h3>
<pre><code class="language-cpp">uint32_t Napi::Reference::Ref();
</code></pre>
<p>Increments the reference count for the <code>Napi::Reference</code> and returns the resulting reference count. Throws an error if the increment fails.</p>
<h3>Unref</h3>
<pre><code class="language-cpp">uint32_t Napi::Reference::Unref();
</code></pre>
<p>Decrements the reference count for the <code>Napi::Reference</code> and returns the resulting reference count. Throws an error if the decrement fails.</p>
<h3>Reset (Empty)</h3>
<pre><code class="language-cpp">void Napi::Reference::Reset();
</code></pre>
<p>Sets the value held by the <code>Napi::Reference</code> to be empty.</p>
<h3>Reset</h3>
<pre><code class="language-cpp">void Napi::Reference::Reset(const T&amp; value, uint32_t refcount = 0);
</code></pre>
<ul>
<li>
<p><code>[in] value</code>: The value which is to be referenced.</p>
</li>
<li>
<p><code>[in] initialRefcount</code>: The initial reference count.</p>
</li>
</ul>
<p>Sets the value held by the <code>Napi::Reference</code>.</p>
<h3>SuppressDestruct</h3>
<pre><code class="language-cpp">void Napi::Reference::SuppressDestruct();
</code></pre>
<p>Call this method on a <code>Napi::Reference</code> that is declared as static data to prevent its destructor, running at program shutdown time, from attempting to reset the reference when the environment is no longer valid.</p>
