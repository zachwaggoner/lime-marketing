<h1>p-timeout <a href="https://travis-ci.org/sindresorhus/p-timeout"><img src="https://travis-ci.org/sindresorhus/p-timeout.svg?branch=master" alt="Build Status"></a></h1>
<blockquote>
<p>Timeout a promise after a specified amount of time</p>
</blockquote>
<h2>Install</h2>
<pre><code>$ npm install p-timeout
</code></pre>
<h2>Usage</h2>
<pre><code class="language-js">const delay = require('delay');
const pTimeout = require('p-timeout');

const delayedPromise = delay(200);

pTimeout(delayedPromise, 50).then(() =&gt; 'foo');
//=&gt; [TimeoutError: Promise timed out after 50 milliseconds]
</code></pre>
<h2>API</h2>
<h3>pTimeout(input, milliseconds, message?)</h3>
<h3>pTimeout(input, milliseconds, fallback?)</h3>
<p>Returns a decorated <code>input</code> that times out after <code>milliseconds</code> time.</p>
<p>If you pass in a cancelable promise, specifically a promise with a <code>.cancel()</code> method, that method will be called when the <code>pTimeout</code> promise times out.</p>
<h4>input</h4>
<p>Type: <code>Promise</code></p>
<p>Promise to decorate.</p>
<h4>milliseconds</h4>
<p>Type: <code>number</code></p>
<p>Milliseconds before timing out.</p>
<p>Passing <code>Infinity</code> will cause it to never time out.</p>
<h4>message</h4>
<p>Type: <code>string</code> <code>Error</code><br>
Default: <code>'Promise timed out after 50 milliseconds'</code></p>
<p>Specify a custom error message or error.</p>
<p>If you do a custom error, it's recommended to sub-class <code>pTimeout.TimeoutError</code>.</p>
<h4>fallback</h4>
<p>Type: <code>Function</code></p>
<p>Do something other than rejecting with an error on timeout.</p>
<p>You could for example retry:</p>
<pre><code class="language-js">const delay = require('delay');
const pTimeout = require('p-timeout');

const delayedPromise = () =&gt; delay(200);

pTimeout(delayedPromise(), 50, () =&gt; {
	return pTimeout(delayedPromise(), 300);
});
</code></pre>
<h3>pTimeout.TimeoutError</h3>
<p>Exposed for instance checking and sub-classing.</p>
<h2>Related</h2>
<ul>
<li><a href="https://github.com/sindresorhus/delay">delay</a> - Delay a promise a specified amount of time</li>
<li><a href="https://github.com/sindresorhus/p-min-delay">p-min-delay</a> - Delay a promise a minimum amount of time</li>
<li><a href="https://github.com/sindresorhus/p-retry">p-retry</a> - Retry a promise-returning function</li>
<li><a href="https://github.com/sindresorhus/promise-fun">Moreâ€¦</a></li>
</ul>
