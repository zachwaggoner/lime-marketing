<h1>image-size</h1>
<p><a href="https://www.npmjs.com/package/image-size"><img src="https://img.shields.io/npm/v/image-size.svg" alt="NPM Version"></a>
<a href="https://travis-ci.org/image-size/image-size"><img src="https://travis-ci.org/image-size/image-size.svg?branch=master" alt="Build Status"></a>
<a href="http://npm-stat.com/charts.html?package=image-size&amp;author=&amp;from=&amp;to="><img src="https://img.shields.io/npm/dm/image-size.svg" alt="NPM Downloads"></a>
<a href="https://coveralls.io/github/image-size/image-size?branch=master"><img src="https://img.shields.io/coveralls/image-size/image-size/master.svg" alt="Coverage Status"></a>
<a href="https://david-dm.org/image-size/image-size#info=devDependencies"><img src="https://david-dm.org/image-size/image-size/dev-status.svg" alt="devDependency Status"></a></p>
<p>A <a href="https://nodejs.org/en/">Node</a> module to get dimensions of any image file</p>
<h2>Supported formats</h2>
<ul>
<li>BMP</li>
<li>CUR</li>
<li>DDS</li>
<li>GIF</li>
<li>ICNS</li>
<li>ICO</li>
<li>JPEG</li>
<li>KTX</li>
<li>PNG</li>
<li>PNM (PAM, PBM, PFM, PGM, PPM)</li>
<li>PSD</li>
<li>SVG</li>
<li>TIFF</li>
<li>WebP</li>
</ul>
<h2>Programmatic Usage</h2>
<pre><code class="language-shell">npm install image-size --save
</code></pre>
<h3>Synchronous</h3>
<pre><code class="language-javascript">var sizeOf = require('image-size');
var dimensions = sizeOf('images/funny-cats.png');
console.log(dimensions.width, dimensions.height);
</code></pre>
<h3>Asynchronous</h3>
<pre><code class="language-javascript">var sizeOf = require('image-size');
sizeOf('images/funny-cats.png', function (err, dimensions) {
  console.log(dimensions.width, dimensions.height);
});
</code></pre>
<p>NOTE: The asynchronous version doesn't work if the input is a Buffer. Use synchronous version instead.</p>
<p>Also, the asynchronous functions have a default concurreny limit of <strong>100</strong>
To change this limit, you can call the <code>setConcurrency</code> function like this:</p>
<pre><code class="language-javascript">var sizeOf = require('image-size');
sizeOf.setConcurrency(123456)
</code></pre>
<h3>Using promises (nodejs 10.x+)</h3>
<pre><code class="language-javascript">var { promisify } = require('util');
var sizeOf = promisify(require('image-size'));
sizeOf('images/funny-cats.png')
  .then(dimensions =&gt; { console.log(dimensions.width, dimensions.height); })
  .catch(err =&gt; console.error(err));
</code></pre>
<h3>Async/Await (Typescript &amp; ES7)</h3>
<pre><code class="language-javascript">var { promisify } = require('util');
var sizeOf = promisify(require('image-size'));
(async () =&gt; {
  try {
    const dimensions = await sizeOf('images/funny-cats.png');
    console.log(dimensions.width, dimensions.height);
  } catch (err) {
    console.error(err);
  }
})().then(c =&gt; console.log(c));
</code></pre>
<h3>Multi-size</h3>
<p>If the target file is an icon (.ico) or a cursor (.cur), the <code>width</code> and <code>height</code> will be the ones of the first found image.</p>
<p>An additional <code>images</code> array is available and returns the dimensions of all the available images</p>
<pre><code class="language-javascript">var sizeOf = require('image-size');
var images = sizeOf('images/multi-size.ico').images;
for (const dimensions of images) {
  console.log(dimensions.width, dimensions.height);
}
</code></pre>
<h3>Using a URL</h3>
<pre><code class="language-javascript">var url = require('url');
var http = require('http');

var sizeOf = require('image-size');

var imgUrl = 'http://my-amazing-website.com/image.jpeg';
var options = url.parse(imgUrl);

http.get(options, function (response) {
  var chunks = [];
  response.on('data', function (chunk) {
    chunks.push(chunk);
  }).on('end', function() {
    var buffer = Buffer.concat(chunks);
    console.log(sizeOf(buffer));
  });
});
</code></pre>
<p>You can optionally check the buffer lengths &amp; stop downloading the image after a few kilobytes.
<strong>You don't need to download the entire image</strong></p>
<h2>Command-Line Usage (CLI)</h2>
<pre><code class="language-shell">npm install image-size --global
image-size image1 [image2] [image3] ...
</code></pre>
<h2>Hosted API</h2>
<p>We also provide a hosted API for image-size which may simplify your use case.</p>
 <a href="https://image-size.saasify.sh">
 	<img src="https://badges.saasify.sh?text=View%20Hosted%20API" height="40"/>
 </a>
<h2>Credits</h2>
<p>not a direct port, but an attempt to have something like
<a href="https://github.com/dabble/imagesize/blob/master/lib/image_size.rb">dabble's imagesize</a> as a node module.</p>
<h2><a href="Contributors.md">Contributors</a></h2>
