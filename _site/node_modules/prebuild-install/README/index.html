<h1>prebuild-install</h1>
<blockquote>
<p>A command line tool to easily install prebuilt binaries for multiple version of node/iojs on a specific platform.</p>
</blockquote>
<p><a href="https://www.npmjs.com/package/prebuild-install"><img src="https://img.shields.io/npm/v/prebuild-install.svg" alt="npm"></a>
<img src="https://img.shields.io/node/v/prebuild-install.svg" alt="Node version">
<a href="https://travis-ci.org/prebuild/prebuild-install"><img src="https://travis-ci.org/prebuild/prebuild-install.svg?branch=master" alt="Build Status"></a>
<a href="https://ci.appveyor.com/project/mathiask88/prebuild-install"><img src="https://ci.appveyor.com/api/projects/status/6v6hxxwgjrr99pc8/branch/master?svg=true" alt="Build status"></a>
<a href="https://david-dm.org/prebuild/prebuild-install"><img src="https://david-dm.org/prebuild/prebuild-install.svg" alt="david"></a>
<a href="http://standardjs.com/"><img src="https://img.shields.io/badge/code%20style-standard-brightgreen.svg" alt="js-standard-style"></a></p>
<p><code>prebuild-install</code> supports installing prebuilt binaries from GitHub by default.</p>
<h2>Usage</h2>
<p>Change your package.json install script to:</p>
<pre><code class="language-json">{
  &quot;scripts&quot;: {
    &quot;install&quot;: &quot;prebuild-install || node-gyp rebuild&quot;
  }
}
</code></pre>
<h3>Requirements</h3>
<p>You need to provide prebuilds made by <a href="https://github.com/prebuild/prebuild"><code>prebuild</code></a>.</p>
<h3>Help</h3>
<pre><code>prebuild-install [options]

  --download    -d  [url]       (download prebuilds, no url means github)
  --target      -t  version     (version to install for)
  --runtime     -r  runtime     (Node runtime [node, napi or electron] to build or install for, default is node)
  --path        -p  path        (make a prebuild-install here)
  --token       -T  gh-token    (github token for private repos)
  --arch            arch        (target CPU architecture, see Node OS module docs, default is current arch)
  --platform        platform    (target platform, see Node OS module docs, default is current platform)
  --tag-prefix &lt;prefix&gt;         (github tag prefix, default is &quot;v&quot;)
  --build-from-source           (skip prebuild download)
  --verbose                     (log verbosely)
  --libc                        (use provided libc rather than system default)
  --debug                       (set Debug or Release configuration)
  --version                     (print prebuild-install version and exit)
</code></pre>
<p>When <code>prebuild-install</code> is run via an <code>npm</code> script, options
<code>--build-from-source</code>, <code>--debug</code>, <code>--download</code>, <code>--target</code>, <code>--runtime</code>, <code>--arch</code> and <code>--platform</code> may be passed through via
arguments given to the <code>npm</code> command. Alternatively you can set environment variables <code>npm_config_build_from_source=true</code>, <code>npm_config_platform</code>, <code>npm_config_arch</code>, <code>npm_config_target</code> and <code>npm_config_runtime</code>.</p>
<h3>Private Repositories</h3>
<p><code>prebuild-install</code> supports downloading prebuilds from private GitHub repositories using the <code>-T &lt;github-token&gt;</code>:</p>
<pre><code>$ prebuild-install -T &lt;github-token&gt;
</code></pre>
<p>If you don't want to use the token on cli you can put it in <code>~/.prebuild-installrc</code>:</p>
<pre><code>token=&lt;github-token&gt;
</code></pre>
<p>Alternatively you can specify it in the <code>prebuild-install_token</code> environment variable.</p>
<p>Note that using a GitHub token uses the API to resolve the correct release meaning that you are subject to the (<a href="https://developer.github.com/v3/rate_limit/">GitHub Rate Limit</a>).</p>
<h3>Create GitHub Token</h3>
<p>To create a token:</p>
<ul>
<li>Go to <a href="https://github.com/settings/tokens">this page</a></li>
<li>Click the <code>Generate new token</code> button</li>
<li>Give the token a name and click the <code>Generate token</code> button, see below</li>
</ul>
<p><img src="https://cloud.githubusercontent.com/assets/13285808/20844584/d0b85268-b8c0-11e6-8b08-2b19522165a9.png" alt="prebuild-token"></p>
<p>The default scopes should be fine.</p>
<h3>Custom binaries</h3>
<p>The end user can override binary download location through environment variables in their .npmrc file.
The variable needs to meet the mask <code>% your package name %_binary_host</code> or <code>% your package name %_binary_host_mirror</code>. For example:</p>
<pre><code>leveldown_binary_host=http://overriden-host.com/overriden-path
</code></pre>
<p>Note that the package version subpath and file name will still be appended.
So if you are installing <code>leveldown@1.2.3</code> the resulting url will be:</p>
<pre><code>http://overriden-host.com/overriden-path/v1.2.3/leveldown-v1.2.3-node-v57-win32-x64.tar.gz
</code></pre>
<h3>Cache</h3>
<p>All prebuilt binaries are cached to minimize traffic. So first <code>prebuild-install</code> picks binaries from the cache and if no binary could be found, it will be downloaded. Depending on the environment, the cache folder is determined in the following order:</p>
<ul>
<li><code>${npm_config_cache}/_prebuilds</code></li>
<li><code>${APP_DATA}/npm-cache/_prebuilds</code></li>
<li><code>${HOME}/.npm/_prebuilds</code></li>
</ul>
<h2>License</h2>
<p>MIT</p>
